{"version":3,"sources":["components/NewPost.jsx","components/Navbar.jsx","App.jsx","index.js"],"names":["NewPost","image","url","width","height","useState","faces","setFaces","friends","setFriends","imgRef","useRef","canvasRef","handleImage","a","faceapi","current","detections","map","d","Object","values","box","useEffect","Promise","all","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceExpressionNet","then","catch","e","console","log","addFriend","prev","target","name","value","className","style","ref","crossOrigin","src","alt","onMouseEnter","ctx","getContext","lineWidth","strokeStyle","face","strokeRect","i","left","top","placeholder","onChange","type","Navbar","App","file","setFile","setImage","img","Image","URL","createObjectURL","onload","getImage","htmlFor","files","id","display","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc9820df.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport * as faceapi from \"face-api.js\";\r\n\r\nconst NewPost = ({ image }) => {\r\n  const { url, width, height } = image;\r\n  const [faces, setFaces] = useState([]);\r\n  const [friends, setFriends] = useState([]);\r\n\r\n  const imgRef = useRef();\r\n  const canvasRef = useRef();\r\n\r\n  const handleImage = async () => {\r\n    const detections = await faceapi.detectAllFaces(\r\n      imgRef.current,\r\n      new faceapi.TinyFaceDetectorOptions()\r\n    );\r\n    setFaces(detections.map((d) => Object.values(d.box)));\r\n  };\r\n\r\n  const enter = () => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeStyle = \"yellow\";\r\n    faces.map((face) => ctx.strokeRect(...face));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadModels = () => {\r\n      Promise.all([\r\n        faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\r\n        faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n        faceapi.nets.faceExpressionNet.loadFromUri(\"/models\"),\r\n      ])\r\n        .then(handleImage)\r\n        .catch((e) => console.log(e));\r\n    };\r\n\r\n    imgRef.current && loadModels();\r\n  }, []);\r\n\r\n  const addFriend = (e) => {\r\n    setFriends((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  console.log(friends);\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"left\" style={{ width, height }}>\r\n        <img ref={imgRef} crossOrigin=\"anonymous\" src={url} alt=\"\" />\r\n        <canvas\r\n          onMouseEnter={enter}\r\n          ref={canvasRef}\r\n          width={width}\r\n          height={height}\r\n        />\r\n        {faces.map((face, i) => (\r\n          <input\r\n            name={`input${i}`}\r\n            style={{ left: face[0], top: face[1] + face[3] + 5 }}\r\n            placeholder=\"Tag a friend\"\r\n            key={i}\r\n            className=\"friendInput\"\r\n            onChange={addFriend}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"right\">\r\n        <h1>Share your post</h1>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"What's on your mind?\"\r\n          className=\"rightInput\"\r\n        />\r\n        {friends && (\r\n          <span className=\"friends\">\r\n            with <span className=\"name\">{Object.values(friends) + \" \"}</span>\r\n          </span>\r\n        )}\r\n        <button className=\"rightButton\">Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewPost;\r\n","const Navbar = () => {\r\n    return (\r\n        <div className=\"navbar\">\r\n             <span>College Connect</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import { useEffect, useState } from \"react\";\nimport \"./app.css\";\nimport NewPost from \"./components/NewPost\";\nimport Navbar from \"./components/Navbar\";\n\n\nfunction App() {\n  const [file, setFile] = useState();\n  const [image, setImage] = useState();\n\n  useEffect(() => {\n    const getImage = () => {\n      const img = new Image();\n      img.src = URL.createObjectURL(file);\n      img.onload = () => {\n        setImage({\n          url: img.src,\n          width: img.width,\n          height: img.height,\n        });\n      };\n    };\n\n    file && getImage();\n  }, [file]);\n\n  return (\n    <div>\n      <Navbar />\n      {image ? (\n        <NewPost image={image} />\n      ) : (\n        <div className=\"newPostCard\">\n          <div className=\"addPost\">\n            <img\n              src=\"https://images.pexels.com/photos/9371782/pexels-photo-9371782.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\n              alt=\"\"\n              className=\"avatar\"\n            />\n            <div className=\"postForm\">\n              <input\n                type=\"text\"\n                placeholder=\"What's on your mind?\"\n                className=\"postInput\"\n              />\n              <label htmlFor=\"file\">\n                <img\n                  className=\"addImg\"\n                  src=\"https://cdn.icon-icons.com/icons2/564/PNG/512/Add_Image_icon-icons.com_54218.png\"\n                  alt=\"\"\n                />\n                <img\n                  className=\"addImg\"\n                  src=\"https://icon-library.com/images/maps-icon-png/maps-icon-png-5.jpg\"\n                  alt=\"\"\n                />\n                <img\n                  className=\"addImg\"\n                  src=\"https://d29fhpw069ctt2.cloudfront.net/icon/image/84451/preview.svg\"\n                  alt=\"\"\n                />\n                <button>Send</button>\n              </label>\n              <input\n                onChange={(e) => setFile(e.target.files[0])}\n                id=\"file\"\n                style={{ display: \"none\" }}\n                type=\"file\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}